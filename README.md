# Dot density scripts
A set of Node scripts for generating evenly spread dots that will drop nicely at each zoom level when converted to vector tiles (.pmtiles format) with Tippecanoe.

Input and output files are in a GeoJSON-LD (line-delimited) format, which allows for line-by-line processing of files, massively reducing the RAM required to run this kind of operation.

Please note that 

Note: This repo also hosts the pmtiles vector tile sets up to zoom level 11 on Github Pages for testing purposes.

## make-dots.js
Script for generating raw dots given a set of GeoJSON boundaries and per-boundary population counts.

The order of the generated dots allows them to be dropped sequentially while maintaining an even spread of dots within a given boundary.

## make-dotsets.js
Script for applying datasets to the dots generated with the above script. Input datasets should be defined in /config/datasets.js and data files should be added to the /input/ folder.

The generated dots include a "minzoom" property that tells Tippecanoe a what zoom level to drop them.

## make-pmtiles-sh.js
This just generates/updates the bash script below for running the Tippecanoe commands.

## make-pmtiles.sh
A set of Tippecanoe commands for generating .pmtiles vector tiles from the dots generated by the above scripts.

## make-quads.js
Generates auxilliary data files for overlaying percentage data on the map by area (LAD, MSOA and OA level).